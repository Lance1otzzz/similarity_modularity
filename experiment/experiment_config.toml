# Experiment configuration (TOML)
# You can add comments with '#'. This file replaces the old JSON config.

[algorithm_commands]
# Map algorithm code to a short command name
10 = "louvain"
11 = "flm" # louvain with flm, without other optimizations
8 = "plusplus"
# 12 = "both"
# 13 = "bipolar"
14 = "hybrid"
# 15 = "tri_kmeans"

[output_mapping]
louvain = "louvain"
flm = "flm"
plusplus = "plusplus"
# both = "both"
# bipolar = "bipolar"
hybrid = "hybrid"
# tri_kmeans = "tri_kmeans"

# Columns for timing results in the output table
table_columns = [
  "louvain_time",
  "flm_cal_time",
  "plusplus_cal_time",
  # "both_preprocessing_time",
  # "both_cal_time",
  # "bipolar_preprocessing_time",
  # "bipolar_cal_time",
 "hybrid_preprocessing_time",
  "hybrid_cal_time",
  # "tri_kmeans_preprocessing_time",
  # "tri_kmeans_cal_time",
]

# Datasets to run experiments on
target_datasets = [
  "SinaNet",
  "Cora",
  "CiteSeer",
  "CoauthorCS",
  "CoauthorPhysics",
  "PubMed",
  "AmazonPhoto",
  "AmazonComputers",
  "Yelp",
  "Reddit",
  "AmazonProducts",
]

# Percentiles used to derive distance constraints r
distance_percentiles = [5, 10, 20, 40, 80]

[sampling_config]
max_samples = 10000
use_edges_for_sampling = true
cache_distance_data = true

[experiment_config]
enable_timeout = true
timeout_seconds = 100000
sleep_between_runs = 0.1
main_program_path = "./main"
compile_before_run = true
build_command = "make -j"
rebuild_on_source_change = true
max_workers = 1  # 0 or unset = auto (use CPU count)
omp_threads_per_proc = 1  # OpenMP threads per C++ process
pin_workers = false  # set true to pin each process to fixed logical cores
# cpu_affinity_list = [0,1,2,3,4,5,6,7,8,9,10,11, 24,25,26,27,28,29,30,31,32,33,34,35] # optional subset
use_numactl = false  # bind CPU+memory to NUMA node(s) using numactl, if available
# numa_nodes = [0]  # optional list of NUMA nodes per slot (cycled). Alternatively: numa_socket = 0

[output_config]
results_dir = "experiment_results"
cache_dir = "distance_cache"
save_intermediate = true
logs_dir = "experiment_logs"
